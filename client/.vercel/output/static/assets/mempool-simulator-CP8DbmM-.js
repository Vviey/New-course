import{c as W,j as e,p as n}from"./index-Cb9N_GOt.js";import{r as o}from"./react-Q3K9tvtn.js";import{R as w}from"./refresh-cw-C2iCUXhH.js";import{S as z}from"./send-Dhf89aQX.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A=W("Waves",[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]]);function G({onComplete:I}){const[c,g]=o.useState(1),[k,p]=o.useState([]),[m,u]=o.useState(null),[i,f]=o.useState(20),[C,B]=o.useState("low"),[P,T]=o.useState({active:!1,collecting:!1,selectedTxs:[]}),[H,S]=o.useState(null),[b,j]=o.useState([]),[F,y]=o.useState(""),[l,M]=o.useState({completed:!1,message:"",success:!1}),[d,x]=o.useState(!1),$=[{level:"surface",minFee:50,color:"bg-blue-300",name:"Surface (50+ sat/vB)",description:"High-fee fish floating at the top"},{level:"shallow",minFee:20,color:"bg-blue-400",name:"Shallow Waters (20-49 sat/vB)",description:"Medium-fee fish in calm waters"},{level:"deep",minFee:10,color:"bg-blue-600",name:"Deep Waters (10-19 sat/vB)",description:"Low-fee fish drifting deeper"},{level:"abyss",minFee:1,color:"bg-blue-800",name:"Ocean Abyss (1-9 sat/vB)",description:"Very low-fee fish sinking to the bottom"}],N=()=>Array.from(crypto.getRandomValues(new Uint8Array(16)),t=>t.toString(16).padStart(2,"0")).join(""),R=()=>{const t=["1A2B3C...","1D4E5F...","1G7H8I...","1J9K0L...","1M2N3O..."],r=[.1,.5,1,2.5,5],s=[5,15,25,35,45,55],a=250,h=s[Math.floor(Math.random()*s.length)];return{id:N(),from:t[Math.floor(Math.random()*t.length)],to:t[Math.floor(Math.random()*t.length)],amount:r[Math.floor(Math.random()*r.length)],fee:h*a/100,size:a,feeRate:h,timestamp:Date.now(),priority:h,status:"floating"}},O=(t,r)=>{const s=r==="high"?60:r==="medium"?30:10;return t>=50?"1-2 blocks (~10-20 min)":t>=20?`${Math.ceil(s/6)}-${Math.ceil(s/3)} blocks (~${s}-${s*2} min)`:t>=10?`${Math.ceil(s/2)}-${s} blocks (~${s*5}-${s*10} min)`:`${s}-${s*3} blocks (${s*10} min - several hours)`},v=t=>{const r=$.map(s=>({level:s.level,color:s.color,name:s.name,description:s.description,transactions:t.filter(a=>s.level==="surface"?a.feeRate>=s.minFee:s.level==="shallow"?a.feeRate>=s.minFee&&a.feeRate<50:s.level==="deep"?a.feeRate>=s.minFee&&a.feeRate<20:a.feeRate>=s.minFee&&a.feeRate<10)}));j(r)},E=()=>{x(!0),setTimeout(()=>{const t=Array.from({length:8},R);p(t),v(t),g(2),x(!1)},800)},L=()=>{x(!0),setTimeout(()=>{const r=i*250/100,s={id:N(),from:"1YourWallet...",to:"1RecipientAddr...",amount:1.5,fee:r,size:250,feeRate:i,timestamp:Date.now(),priority:i,status:"floating"};u(s);const a=[...k,s];p(a),v(a);const h=O(i,C);y(h),g(3),x(!1)},800)},D=()=>{g(1),p([]),u(null),f(20),B("low"),T({active:!1,collecting:!1,selectedTxs:[]}),S(null),j([]),y(""),M({completed:!1,message:"",success:!1})};return e.jsxs("div",{className:"py-6",children:[e.jsxs("div",{className:"mb-8 p-6 rounded-lg",style:{backgroundColor:"rgba(8, 28, 36, 0.6)"},children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",style:{color:n.colors.primary},children:"Bitcoin Mempool Challenge: The Ocean of Unconfirmed Transactions"}),e.jsx("p",{className:"text-gray-300 mb-4",children:'Discover how Bitcoin transactions flow through the mempool before confirmation. Picture the mempool as a vast ocean where transaction "fish" float, waiting for miner "fishermen" to collect them.'}),e.jsxs("div",{className:"mb-6 p-4 rounded-lg",style:{backgroundColor:"rgba(6, 214, 160, 0.1)"},children:[e.jsx("h4",{className:"font-semibold mb-3",style:{color:n.colors.primary},children:"🌊 Welcome to the Bitcoin Ocean"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-2xl mr-2",children:"🌊"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Mempool = Ocean:"})," Where all unconfirmed transactions float"]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-2xl mr-2",children:"🐟"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Transactions = Fish:"})," Each carrying Bitcoin from sender to receiver"]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-2xl mr-2",children:"⚡"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Fees = Cost of Fish:"})," Higher cost = More desirable to fishermen"]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-2xl mr-2",children:"🎣"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Miners = Fishermen:"})," They collect transactions for blocks"]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-2xl mr-2",children:"📦"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Blocks = Containers:"})," Limited space, only the best boats fit"]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-2xl mr-2",children:"⚓"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Confirmation = Docking:"})," Permanently recorded on blockchain"]})]})]})]})]}),e.jsxs("div",{className:`space-y-4 mb-6 p-4 rounded-lg ${c>=1?"bg-black/20":"bg-black/10 opacity-50"}`,children:[e.jsxs("div",{className:"flex items-center mb-3",children:[e.jsx("span",{className:`w-8 h-8 rounded-full flex items-center justify-center mr-3 text-sm font-bold ${c>=1?"text-white":"text-gray-500"}`,style:{backgroundColor:c>=1?n.colors.primary:"#6b7280"},children:"1"}),e.jsx("h4",{className:"text-lg font-semibold",style:{color:n.colors.secondary},children:"Initialize the Bitcoin Ocean"})]}),e.jsx("p",{className:"text-gray-300 text-sm mb-4",children:`Let's start by populating our Bitcoin ocean with some existing transactions. Each "boat" represents a real Bitcoin transaction floating in the mempool, waiting for confirmation.`}),e.jsx("button",{onClick:E,disabled:d,className:"px-4 py-2 rounded text-white font-medium flex items-center text-sm mb-4",style:{backgroundColor:n.colors.primary,opacity:d?.7:1},children:d?e.jsxs(e.Fragment,{children:[e.jsx(w,{className:"mr-2 h-4 w-4 animate-spin"}),"Filling Ocean..."]}):e.jsxs(e.Fragment,{children:[e.jsx(A,{className:"mr-2 h-4 w-4"}),"Fill the Bitcoin Ocean"]})}),b.length>0&&e.jsxs("div",{className:"space-y-3",children:[e.jsx("h5",{className:"font-semibold text-blue-400",children:"🌊 Current Ocean State"}),b.map((t,r)=>e.jsxs("div",{className:`p-3 rounded-lg ${t.color} bg-opacity-20 border border-current`,children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"font-semibold text-blue-200",children:t.name}),e.jsxs("span",{className:"text-sm text-blue-300",children:[t.transactions.length," fish"]})]}),e.jsx("div",{className:"text-xs text-blue-100 mb-2",children:t.description}),e.jsxs("div",{className:"flex flex-wrap gap-1",children:[t.transactions.slice(0,6).map((s,a)=>e.jsxs("span",{className:"text-xs bg-black/30 px-2 py-1 rounded",children:["⛵ ",s.feeRate," sat/vB"]},a)),t.transactions.length>6&&e.jsxs("span",{className:"text-xs text-blue-300",children:["+",t.transactions.length-6," more..."]})]})]},r))]})]}),e.jsxs("div",{className:`space-y-4 mb-6 p-4 rounded-lg ${c>=2?"bg-black/20":"bg-black/10 opacity-50"}`,children:[e.jsxs("div",{className:"flex items-center mb-3",children:[e.jsx("span",{className:`w-8 h-8 rounded-full flex items-center justify-center mr-3 text-sm font-bold ${c>=2?"text-white":"text-gray-500"}`,style:{backgroundColor:c>=2?n.colors.primary:"#6b7280"},children:"2"}),e.jsx("h4",{className:"text-lg font-semibold",style:{color:n.colors.secondary},children:"Launch Your Transaction Boat"})]}),e.jsx("p",{className:"text-gray-300 text-sm mb-4",children:"Now it's time to send your own Bitcoin transaction! Choose your fee rate carefully - it determines how powerful your boat's engine is and how quickly it can rise to the surface."}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("label",{className:"text-sm font-medium",children:"Fee Rate:"}),e.jsx("input",{type:"range",min:"1",max:"100",value:i,onChange:t=>f(parseInt(t.target.value)),className:"flex-1 h-2 bg-gray-700 rounded-lg appearance-none slider",style:{accentColor:n.colors.primary}}),e.jsxs("span",{className:"text-sm font-bold w-20",children:[i," sat/vB"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[e.jsxs("div",{className:`p-3 rounded border ${i>=50?"border-green-400 bg-green-900/20":"border-gray-600"}`,children:[e.jsx("div",{className:"font-semibold text-green-400",children:"🚀 High Priority"}),e.jsx("div",{className:"text-xs text-gray-300",children:"50+ sat/vB - Surface level"})]}),e.jsxs("div",{className:`p-3 rounded border ${i>=20&&i<50?"border-yellow-400 bg-yellow-900/20":"border-gray-600"}`,children:[e.jsx("div",{className:"font-semibold text-yellow-400",children:"⚡ Medium Priority"}),e.jsx("div",{className:"text-xs text-gray-300",children:"20-49 sat/vB - Shallow waters"})]}),e.jsxs("div",{className:`p-3 rounded border ${i<20?"border-red-400 bg-red-900/20":"border-gray-600"}`,children:[e.jsx("div",{className:"font-semibold text-red-400",children:"🐌 Low Priority"}),e.jsx("div",{className:"text-xs text-gray-300",children:"1-19 sat/vB - Deep waters"})]})]}),e.jsx("button",{onClick:L,disabled:c<2||d,className:"px-4 py-2 rounded text-white font-medium flex items-center text-sm",style:{backgroundColor:c>=2?n.colors.primary:"#6b7280",opacity:c<2||d?.7:1},children:d?e.jsxs(e.Fragment,{children:[e.jsx(w,{className:"mr-2 h-4 w-4 animate-spin"}),"Launching Boat..."]}):e.jsxs(e.Fragment,{children:[e.jsx(z,{className:"mr-2 h-4 w-4"}),"Send 1.5 BTC Transaction"]})})]}),m&&e.jsxs("div",{className:"p-3 rounded-lg",style:{backgroundColor:"rgba(6, 214, 160, 0.1)"},children:[e.jsx("h5",{className:"font-semibold mb-2",style:{color:n.colors.primary},children:"⛵ Your Transaction Boat is Now Floating!"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Amount:"})," ",m.amount," BTC"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Fee:"})," ",m.fee.toFixed(0)," sats"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Fee Rate:"})," ",m.feeRate," sat/vB"]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Size:"})," ",m.size," vBytes"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Status:"})," ",e.jsx("span",{className:"text-yellow-400",children:"🌊 Floating in Ocean"})]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Est. Wait:"})," ",e.jsx("span",{className:"text-blue-400",children:F})]})]})]})]})]}),e.jsx("div",{className:"mt-4 text-center",children:e.jsx("button",{onClick:D,className:"px-6 py-2 rounded text-white font-medium",style:{backgroundColor:n.colors.secondary},children:"🔄 Launch New Transaction"})}),l.message&&e.jsx("div",{className:`mt-6 p-3 rounded-md ${l.success?"bg-green-900/30":"bg-red-900/30"}`,style:{borderLeft:`4px solid ${l.success?"#10b981":"#ef4444"}`},children:e.jsx("p",{className:l.success?"text-green-400":"text-red-400",children:l.message})})]}),l.completed&&e.jsxs("div",{className:"text-center p-4 rounded-lg border",style:{backgroundColor:"rgba(6, 214, 160, 0.1)",borderColor:`${n.colors.primary}40`},children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",style:{color:n.colors.primary},children:"Challenge Complete!"}),e.jsx("p",{className:"text-gray-300",children:"You've navigated the Bitcoin mempool ocean! You now understand how transactions flow from creation to confirmation, how fees affect priority, and how network congestion impacts wait times. The mempool is no longer a mystery!"})]})]})}export{G as default};
