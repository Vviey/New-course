import{q as v,j as e,f as n,L as r,b as w,u as y}from"./index-Cb9N_GOt.js";import{r as l}from"./react-Q3K9tvtn.js";import{B as i}from"./button-DIUnBPwv.js";import{c as a,g as u}from"./realm-utils-9A8akPZN.js";import{A as k}from"./arrow-left-Cc1Sbg4I.js";import{C as c}from"./chevron-right-DQMAqhsF.js";import{C as b}from"./chevron-left-DoaSEvOX.js";import{U as M}from"./user-CQgrU8fZ.js";import{A as $}from"./award-EQ-Po-F9.js";import{M as R}from"./map-BQUuhQ-O.js";import"./index-CrZBFJ1p.js";import"./realm1-missions-Cl9-J3R6.js";import"./realm2-missions-Npvvnli7.js";import"./realm3-missions--hao_c43.js";function C(){const[m,t]=v("/realm4/mission/:id"),s=t!=null&&t.id?parseInt(t.id):null,[o,h]=l.useState(null),[f,p]=l.useState(!1),g=a.length;l.useEffect(()=>{if(s){console.log(`Realm 4: Looking for mission with ID ${s}`),console.log("Available mission IDs:",a.map(x=>x.id));const d=a.find(x=>x.id===s);d?(console.log("Found mission:",d.title),h(d)):(console.error(`Mission with ID ${s} not found in Realm 4`),h(null))}},[s]);const j=()=>{p(!0)};if(!o)return e.jsx("div",{className:"min-h-screen flex items-center justify-center",style:{background:`linear-gradient(to bottom, ${n.colors.background}, ${n.colors.backgroundLight})`},children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-3xl font-bold mb-4",style:{color:n.colors.primary},children:"Mission not found"}),e.jsx(r,{href:"/realm4",children:e.jsxs(i,{className:"inline-flex items-center bg-orange-600 hover:bg-orange-700 text-white",children:[e.jsx(k,{className:"mr-2 h-4 w-4"}),"Return to ",u(4)]})})]})});const N=()=>typeof o.content=="string"?e.jsx("div",{dangerouslySetInnerHTML:{__html:o.content}}):e.jsx("div",{children:o.content});return f?e.jsx("div",{className:"min-h-screen py-12 px-4",style:{background:`linear-gradient(to bottom, ${n.colors.background}, ${n.colors.backgroundLight})`},children:e.jsxs("div",{className:"max-w-2xl mx-auto bg-opacity-80 bg-black backdrop-blur rounded-lg p-8 text-center",children:[e.jsx("h1",{className:"text-3xl font-bold mb-6 text-orange-400",children:"Mission Complete!"}),e.jsxs("p",{className:"text-orange-100 mb-8",children:["You've successfully completed the ",o.title," mission. These insights about Bitcoin mining will help you understand the economic and technical foundations of the network."]}),s!==null&&s<a[a.length-1].id?e.jsx(r,{href:`/realm4/mission/${s+1}`,children:e.jsxs(i,{className:"bg-orange-600 hover:bg-orange-700 text-white mr-4",children:["Next Mission",e.jsx(c,{className:"ml-2 h-4 w-4"})]})}):e.jsx(r,{href:"/realm5",children:e.jsxs(i,{className:"bg-purple-600 hover:bg-purple-700 text-white mr-4",children:["Continue to Next Realm",e.jsx(c,{className:"ml-2 h-4 w-4"})]})}),e.jsx(r,{href:"/realm4",children:e.jsxs(i,{variant:"outline",className:"border-orange-600 text-orange-400 hover:bg-orange-600/20",children:["Return to ",u(4)]})})]})}):e.jsx("div",{className:"min-h-screen text-white",style:{background:`linear-gradient(to bottom, ${n.colors.background}, ${n.colors.backgroundLight})`,backgroundImage:"url('/realms/mining.jpg')",backgroundSize:"cover",backgroundPosition:"center",backgroundAttachment:"fixed",backgroundBlendMode:"overlay"},children:e.jsxs("div",{className:"max-w-6xl mx-auto px-6 py-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-8",children:[e.jsx(r,{href:"/realm4",children:e.jsxs("a",{className:"inline-flex items-center hover:text-orange-300 transition-colors text-orange-400",children:[e.jsx(b,{className:"mr-2 h-5 w-5"}),e.jsx("span",{children:"Back to The Mountain Forge"})]})}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(r,{href:"/profile",children:e.jsx("a",{className:"p-2 rounded-full bg-orange-600/20 hover:bg-orange-600/30 transition-colors",children:e.jsx(M,{className:"h-5 w-5 text-orange-400"})})}),e.jsx(r,{href:"/badges",children:e.jsx("a",{className:"p-2 rounded-full bg-orange-600/20 hover:bg-orange-600/30 transition-colors",children:e.jsx($,{className:"h-5 w-5 text-orange-400"})})}),e.jsx(r,{href:"/map",children:e.jsx("a",{className:"p-2 rounded-full bg-orange-600/20 hover:bg-orange-600/30 transition-colors",children:e.jsx(R,{className:"h-5 w-5 text-orange-400"})})})]})]}),e.jsxs("div",{className:"flex justify-between items-center mb-8",children:[s&&s>1?e.jsx(r,{href:`/realm4/mission/${s-1}`,children:e.jsxs("a",{className:"inline-flex items-center px-4 py-2 bg-orange-600/20 rounded-lg hover:bg-orange-600/30 transition-colors",children:[e.jsx(b,{className:"mr-2 h-4 w-4"}),"Previous Mission"]})}):e.jsx("div",{}),e.jsxs("div",{className:"text-orange-400 text-sm font-medium",children:["Mission ",s," of ",g]}),s&&s<g?e.jsx(r,{href:`/realm4/mission/${s+1}`,children:e.jsxs("a",{className:"inline-flex items-center px-4 py-2 bg-orange-600/20 rounded-lg hover:bg-orange-600/30 transition-colors",children:["Next Mission",e.jsx(c,{className:"ml-2 h-4 w-4"})]})}):e.jsx(r,{href:"/realm5",children:e.jsxs("a",{className:"inline-flex items-center px-4 py-2 bg-purple-600/20 rounded-lg hover:bg-purple-600/30 transition-colors",children:["Next Realm",e.jsx(c,{className:"ml-2 h-4 w-4"})]})})]}),e.jsxs("div",{className:"w-full space-y-12",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-5xl md:text-6xl font-bold mb-6 text-orange-400",children:o.title}),o.subtitle&&e.jsx("p",{className:"text-2xl md:text-3xl text-orange-300 mb-12",children:o.subtitle})]}),e.jsxs("div",{className:"w-full space-y-12",children:[e.jsx("div",{className:"bg-gradient-to-r from-orange-900/20 to-yellow-900/20 backdrop-blur-sm rounded-2xl p-8 border border-orange-700/30",children:e.jsx("div",{className:"prose prose-invert max-w-none text-orange-100",children:N()})}),e.jsx("div",{className:"text-center",children:e.jsx(i,{onClick:j,size:"lg",className:"bg-orange-600 hover:bg-orange-700 text-white px-12 py-4 text-xl rounded-xl shadow-lg",style:{background:`linear-gradient(45deg, ${n.colors.primary}, ${n.colors.secondary})`,boxShadow:"0 8px 32px rgba(238, 114, 11, 0.3)"},children:"Complete Mission"})})]})]})]})})}function q(){const{missionId:m}=w();y();const[t,s]=l.useState(!0);return l.useEffect(()=>{console.log("Realm4MissionWrapper: Initializing with missionId:",m),s(!1)},[m]),t?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-black",children:e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-orange-500"})}):e.jsx(C,{})}export{q as default};
