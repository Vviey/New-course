import{c as C,j as e,U as A}from"./index-Cb9N_GOt.js";import{r}from"./react-Q3K9tvtn.js";import{I as L}from"./info-DAGpGogX.js";import{F as Y}from"./file-text-D7Ihrb9U.js";import{C as $}from"./check-KWJc-uHV.js";import{T as z}from"./triangle-alert-Bo9vNVKV.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R=C("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);function U({onComplete:u}){const[m,y]=r.useState([{id:"preamble",name:"Preamble",description:"Basic information about the proposal",options:[`BIP: XXX
Title: Lightning Payment Optimization
Author: Asha <asha@bitcoin.org>
Status: Draft
Type: Standards Track
Category: Lightning
Created: 2023-05-01`,`PROPOSAL: Lightning Payment Optimization
BY: Asha
DATE: Today
Urgency: High`,`BITCOIN UPGRADE: Faster Lightning Payments
CREATOR: Asha
IMPORTANCE: Critical for adoption`],correctIndex:0,selectedIndex:null},{id:"abstract",name:"Abstract",description:"Brief summary of the proposal",options:["This proposal aims to make Bitcoin transactions faster by changing the consensus rules to allow for larger blocks.","This BIP proposes optimizations to the Lightning Network protocol to reduce payment routing latency and improve success rates for multi-hop payments.","Lightning Network needs to be faster to compete with traditional payment systems. This proposal will fix that by making nodes process payments quicker."],correctIndex:1,selectedIndex:null},{id:"motivation",name:"Motivation",description:"Why this change is needed",options:["Traditional payment systems are faster than Bitcoin, and we need to catch up to gain adoption.","The Lightning Network sometimes fails to route payments through multiple hops due to outdated channel information and latency issues, leading to poor user experience.","Faster payments are better payments. Lightning Network should be instant, but sometimes it takes seconds or even fails. This is unacceptable for a modern payment system."],correctIndex:1,selectedIndex:null},{id:"specification",name:"Specification",description:"Technical details of the implementation",options:["Make all Lightning Network nodes process payments faster by using more CPU power.","Nodes should cache routing information and prioritize payment forwarding to speed up the network. This is a suggestion that node operators can choose to implement.","This BIP introduces three specific protocol changes: 1) Proactive channel state synchronization, 2) Parallel payment path finding, and 3) Channel state commitment optimization. Each is detailed below with pseudocode and message format specifications..."],correctIndex:2,selectedIndex:null},{id:"backwards-compatibility",name:"Backward Compatibility",description:"How this affects existing systems",options:["All node operators must upgrade to support this change.","This proposal is not backward compatible with older Lightning implementations.","This enhancement is backward compatible with existing Lightning implementations. Nodes that implement these changes can interact seamlessly with those that don't, though optimal performance requires adoption by both ends of a payment route."],correctIndex:2,selectedIndex:null}]),[b,v]=r.useState([{id:"draft",name:"Draft",description:"Initial proposal created",isActive:!0},{id:"submitted",name:"Submitted",description:"Shared with the community",isActive:!1},{id:"discussion",name:"Discussion",description:"Community feedback and debate",isActive:!1},{id:"updated",name:"Updated",description:"Revised based on feedback",isActive:!1},{id:"accepted",name:"Accepted",description:"Consensus reached",isActive:!1},{id:"implementation",name:"Implementation",description:"Code development",isActive:!1},{id:"activation",name:"Activation",description:"Deployed to the network",isActive:!1}]),[d,p]=r.useState("selection"),[i,w]=r.useState(0),[h,n]=r.useState([]),[x,j]=r.useState(!1),[N,I]=r.useState(!1),[f,k]=r.useState(!1),g=m.every(t=>t.selectedIndex!==null),B=()=>m.filter(t=>t.selectedIndex===t.correctIndex).length,P=(t,s)=>{y(a=>a.map(o=>o.id===t?{...o,selectedIndex:s}:o))},S=()=>{const t=B();let s=[];m.forEach(a=>{a.selectedIndex===a.correctIndex?s.push(`✓ Your ${a.name} section follows best practices.`):a.id==="preamble"?s.push(`⚠️ Your ${a.name} is missing standard BIP formatting. Check BIP-2 for the proper format.`):a.id==="abstract"?s.push(`⚠️ Your ${a.name} should be concise and specific to the proposal's technical goals.`):a.id==="motivation"?s.push(`⚠️ Your ${a.name} should focus on concrete problems the proposal solves, not general statements.`):a.id==="specification"?s.push(`⚠️ Your ${a.name} lacks technical details and implementation specifics needed for developers.`):a.id==="backwards-compatibility"&&s.push(`⚠️ Your ${a.name} assessment is incorrect. Consider how this affects existing implementations.`)}),n(s),t>=3?(p("process"),c("submitted"),setTimeout(()=>c("discussion"),1500)):p("feedback")},c=t=>{v(s=>{const a=[...s],o=a.findIndex(l=>l.id===t);if(o!==-1){for(let l=0;l<a.length;l++)a[l].isActive=l<=o;w(o)}return a})};r.useEffect(()=>{if(d!=="process")return;const t=[];return i===1&&t.push(setTimeout(()=>{n(s=>[...s,"Your BIP has generated significant discussion on the mailing list. Some developers are concerned about the protocol complexity."])},2e3)),i===2&&t.push(setTimeout(()=>{n(s=>[...s,"Based on feedback, you should revise the specification to address concerns about implementation complexity."]),c("updated")},3e3)),i===3&&t.push(setTimeout(()=>{n(s=>[...s,"Your revised proposal has reached rough consensus after addressing the major concerns!"]),c("accepted")},3e3)),i===4&&t.push(setTimeout(()=>{c("implementation")},2e3)),i===5&&t.push(setTimeout(()=>{n(s=>[...s,"Developers have implemented your proposed changes in multiple Lightning Network node implementations."]),c("activation")},3e3)),i===6&&t.push(setTimeout(()=>{n(s=>[...s,"Congratulations! Your BIP for Lightning Payment Optimization has been successfully activated on the network."]),I(!0),setTimeout(u,2e3)},2e3)),()=>{t.forEach(s=>clearTimeout(s))}},[i,d,u]);const T=()=>{p("selection"),n([])};return e.jsxs("div",{className:"bg-black text-gray-100 p-6 rounded-lg border border-amber-900/30",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsx("h2",{className:"text-2xl font-bold text-amber-500",children:"BIP Proposal Simulator"}),e.jsx("button",{onClick:()=>k(!f),className:"text-xs p-2 bg-amber-900/20 rounded-full hover:bg-amber-900/30",children:e.jsx(L,{className:"h-4 w-4 text-amber-400"})})]}),f&&e.jsxs("div",{className:"mb-4 bg-amber-900/10 border border-amber-900/30 rounded-lg p-4 text-sm",children:[e.jsx("h3",{className:"font-medium text-amber-400 mb-2",children:"What is a BIP?"}),e.jsx("p",{className:"text-gray-300 mb-2",children:"A Bitcoin Improvement Proposal (BIP) is a formal document proposing changes to the Bitcoin protocol. BIPs provide a standardized way to suggest new features, collect community input, and document design decisions."}),e.jsx("p",{className:"text-gray-300",children:"BIPs follow a standard format and process, from Draft to Final status, ensuring thorough review and consensus before implementation. Anyone can propose a BIP, but gaining community acceptance requires technical merit and clear communication."})]}),e.jsx("p",{className:"text-gray-300 mb-4",children:"Help Asha draft a BIP for Lightning Network payment optimization. Choose the most appropriate content for each section of the proposal to create a clear, technical, and well-structured document that follows BIP standards."}),d==="selection"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"space-y-6 mb-6",children:m.map(t=>e.jsxs("div",{className:"bg-gray-900/50 rounded-lg border border-gray-800",children:[e.jsxs("div",{className:"p-4 border-b border-gray-800 flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"font-medium text-amber-400 flex items-center",children:[e.jsx(Y,{className:"h-4 w-4 mr-2"}),t.name]}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:t.description})]}),e.jsx("button",{onClick:()=>j(!x),className:"text-amber-400 hover:text-amber-300",children:e.jsx(R,{className:"h-4 w-4"})})]}),e.jsx("div",{className:"p-4 space-y-3",children:t.options.map((s,a)=>e.jsx("div",{className:`p-3 border rounded-lg cursor-pointer transition-all ${t.selectedIndex===a?"border-amber-500 bg-amber-900/20":"border-gray-700 bg-black/30 hover:border-gray-600"}`,onClick:()=>P(t.id,a),children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:`h-5 w-5 rounded-full mr-3 flex-shrink-0 flex items-center justify-center ${t.selectedIndex===a?"bg-amber-500 text-black":"border border-gray-600"}`,children:t.selectedIndex===a&&e.jsx($,{className:"h-3 w-3"})}),e.jsx("div",{className:"whitespace-pre-wrap text-sm text-gray-300 flex-grow",children:s})]})},a))}),x&&e.jsx("div",{className:"px-4 pb-4",children:e.jsx("div",{className:"bg-amber-900/10 border border-amber-900/30 rounded-lg p-3",children:e.jsxs("p",{className:"text-sm text-amber-200",children:[e.jsx("span",{className:"font-medium",children:"Hint: "}),t.id==="preamble"&&"BIPs follow a specific format with fields like BIP number, title, author, status, type, and creation date.",t.id==="abstract"&&"The abstract should be concise and clear about what the proposal aims to achieve technically.",t.id==="motivation"&&"Focus on specific problems this proposal solves, with concrete examples rather than generalizations.",t.id==="specification"&&"Technical details are crucial - include specific protocol changes, message formats or algorithms.",t.id==="backwards-compatibility"&&"Consider how existing implementations will interact with nodes that adopt your proposal."]})})})]},t.id))}),e.jsx("div",{className:"flex justify-center",children:e.jsx("button",{onClick:S,disabled:!g,className:`px-6 py-2 rounded-lg font-medium flex items-center ${g?"bg-amber-600 text-white hover:bg-amber-700":"bg-gray-700 text-gray-500 cursor-not-allowed"}`,children:"Submit BIP"})})]}),d==="process"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"h-2 bg-gray-800 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-amber-500 transition-all duration-500",style:{width:`${(i+1)/b.length*100}%`}})}),e.jsx("div",{className:"mt-4 flex justify-between",children:b.map((t,s)=>e.jsxs("div",{className:"flex flex-col items-center",style:{width:"14%"},children:[e.jsx("div",{className:`w-8 h-8 rounded-full mb-2 flex items-center justify-center ${t.isActive?"bg-amber-500 text-black":"bg-gray-800 text-gray-500"}`,children:s+1}),e.jsx("div",{className:`text-xs text-center font-medium ${t.isActive?"text-amber-400":"text-gray-500"}`,children:t.name})]},t.id))})]}),e.jsxs("div",{className:"bg-black/30 border border-gray-800 rounded-lg p-4",children:[e.jsxs("h3",{className:"font-medium text-amber-400 mb-3 flex items-center",children:[e.jsx(A,{className:"h-5 w-5 mr-2"}),"Community Feedback"]}),e.jsxs("div",{className:"space-y-3 max-h-60 overflow-y-auto pr-2",children:[h.map((t,s)=>e.jsx("div",{className:"bg-gray-900/50 border border-gray-800 rounded-lg p-3",children:e.jsx("p",{className:"text-sm text-gray-300",children:t})},s)),i<6&&!h.some(t=>t.includes("Congratulations"))&&e.jsxs("div",{className:"flex items-center space-x-2 text-gray-400 text-sm py-2",children:[e.jsx("div",{className:"w-2 h-2 bg-amber-500 rounded-full animate-pulse"}),e.jsx("div",{className:"w-2 h-2 bg-amber-500 rounded-full animate-pulse delay-150"}),e.jsx("div",{className:"w-2 h-2 bg-amber-500 rounded-full animate-pulse delay-300"}),e.jsx("span",{children:"Waiting for community response..."})]})]})]})]}),d==="feedback"&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-amber-900/20 border border-amber-800/30 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx(z,{className:"h-6 w-6 text-amber-500 mr-3 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-amber-400 mb-2",children:"Your BIP Needs Revision"}),e.jsx("p",{className:"text-sm text-gray-300 mb-4",children:"Your proposal has some issues that need to be addressed before it can move forward in the BIP process. Review the feedback below and make revisions to improve your proposal."}),e.jsx("div",{className:"space-y-2",children:h.map((t,s)=>e.jsx("p",{className:"text-sm text-gray-300",children:t},s))})]})]})}),e.jsx("div",{className:"flex justify-center",children:e.jsx("button",{onClick:T,className:"px-6 py-2 bg-amber-600 text-white rounded-lg hover:bg-amber-700",children:"Revise Proposal"})})]})]}),N&&e.jsxs("div",{className:"bg-green-900/20 border border-green-700 rounded-lg p-4 text-center",children:[e.jsx("h3",{className:"text-green-400 text-lg font-medium mb-2",children:"Challenge Complete!"}),e.jsx("p",{className:"text-gray-300",children:"Congratulations! You've successfully navigated the BIP process from draft to activation. Your proposal for Lightning Network payment optimization has been implemented and is now helping improve Bitcoin's payment experience for users around the world."})]})]})}export{U as default};
