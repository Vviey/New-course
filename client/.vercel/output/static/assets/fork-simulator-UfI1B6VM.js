import{j as e,A as S}from"./index-Cb9N_GOt.js";import{r}from"./react-Q3K9tvtn.js";import{I as p}from"./info-DAGpGogX.js";import{G as C}from"./git-fork-QBsT-KIe.js";import{C as B}from"./check-KWJc-uHV.js";function M({onComplete:g}){const[i,f]=r.useState([{id:1,title:"Block Size Increase",description:"The community is debating increasing the maximum block size from 1MB to 8MB to allow more transactions per block. This would require all nodes to recognize larger blocks as valid.",options:[{id:"soft-fork-1",type:"soft",text:"Implement as a soft fork by introducing a new transaction format that fits more transactions within the existing 1MB limit",consequences:["Older nodes continue to validate blocks but don't understand the new transaction format","Network capacity increases but not as much as a direct block size increase","Community remains unified on a single blockchain"]},{id:"hard-fork-1",type:"hard",text:"Implement as a hard fork by directly increasing the maximum block size to 8MB",consequences:["Older nodes reject the larger blocks as invalid","The network splits, with some users following the original rules","A new cryptocurrency (Bitcoin Cash) is created from the split","Transaction capacity increases significantly on the new chain"]}],completed:!1,selectedOption:null},{id:2,title:"Transaction Signature Segregation",description:"Developers propose moving transaction signatures to a separate structure to save space and fix transaction malleability. This can be implemented without breaking compatibility with existing rules.",options:[{id:"soft-fork-2",type:"soft",text:"Implement as a soft fork by making signature data a separate witness structure that older nodes don't validate",consequences:["Older nodes still validate blocks but are unaware of the new signature structure","All nodes remain on the same blockchain","Allows for second-layer solutions like Lightning Network","Increases effective block capacity without changing the 1MB base size"]},{id:"hard-fork-2",type:"hard",text:"Implement as a hard fork by requiring all nodes to understand and validate the new signature structure",consequences:["Forces all users to upgrade their software","Creates a potential chain split if not everyone upgrades","Could lead to network fragmentation and user confusion","Provides no significant advantage over the soft fork approach in this case"]}],completed:!1,selectedOption:null},{id:3,title:"New Cryptographic Signature Scheme",description:"Developers want to introduce Schnorr signatures to replace the current ECDSA signature scheme, allowing for more efficient multi-signature transactions and enhanced privacy.",options:[{id:"neither-3",type:"neither",text:"Make no changes to the protocol and maintain the current signature scheme",consequences:["No disruption to the network","Miss opportunity for improved efficiency and privacy","Development of certain advanced features remains more difficult","Status quo is maintained"]},{id:"soft-fork-3",type:"soft",text:"Implement as a soft fork by introducing a new transaction version that supports Schnorr signatures",consequences:["Older nodes continue functioning without modification","New privacy and efficiency features become available to upgraded users","Gradual adoption without forcing anyone to upgrade","Minimal risk of chain splits while enabling innovation"]}],completed:!1,selectedOption:null},{id:4,title:"Proof-of-Work Algorithm Change",description:"A group within the community wants to change Bitcoin's mining algorithm from SHA-256 to a different algorithm to make mining more accessible to those without specialized hardware.",options:[{id:"hard-fork-4",type:"hard",text:"Implement as a hard fork by switching to a new proof-of-work algorithm",consequences:["Existing mining hardware becomes obsolete for the new chain","The network splits into two separate cryptocurrencies","Mining becomes temporarily more accessible on the new chain","Security implications as mining power is redistributed"]},{id:"neither-4",type:"neither",text:"Maintain the current SHA-256 algorithm and focus on layer-two solutions instead",consequences:["Network security remains backed by extensive SHA-256 mining infrastructure","Mining continues to require specialized hardware","No chain split occurs, preserving network effects","Community remains focused on a single Bitcoin implementation"]}],completed:!1,selectedOption:null}]),[n,b]=r.useState(0),[s,m]=r.useState(null),[o,h]=r.useState(!1),[x,c]=r.useState(""),[y,w]=r.useState(!1),[u,k]=r.useState(!1),a=i[n],v=t=>{o||m(t)},j=()=>{if(!s)return;f(l=>{const d=[...l];return d[n]={...d[n],completed:!0,selectedOption:s},d}),h(!0);const t=a.options.find(l=>l.id===s);t&&(a.id===1&&t.type==="hard"?c("This approach was taken by Bitcoin Cash in 2017, creating a permanent split from Bitcoin. While it increased transaction capacity, it divided the community and resources."):a.id===2&&t.type==="soft"?c("This is how SegWit was implemented in 2017. As a soft fork, it successfully upgraded Bitcoin without forcing a chain split, demonstrating the power of backward-compatible changes."):a.id===3&&t.type==="soft"?c("This approach was taken with the Taproot upgrade in 2021, which introduced Schnorr signatures through a soft fork, maintaining network unity while enabling new capabilities."):a.id===4&&t.type==="hard"?c("This approach was taken by Bitcoin Gold in 2017, which changed the mining algorithm but gained limited adoption and faces ongoing security challenges compared to Bitcoin."):c("This approach would likely face challenges gaining consensus among Bitcoin's diverse stakeholders. Consider the trade-offs between innovation and stability."))},N=()=>{n<i.length-1?(b(n+1),m(null),h(!1),c("")):(w(!0),setTimeout(g,2e3))};return e.jsxs("div",{className:"bg-black text-gray-100 p-6 rounded-lg border border-amber-900/30",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsx("h2",{className:"text-2xl font-bold text-amber-500",children:"Path of the Fork"}),e.jsx("button",{onClick:()=>k(!u),className:"text-xs p-2 bg-amber-900/20 rounded-full hover:bg-amber-900/30",children:e.jsx(p,{className:"h-4 w-4 text-amber-400"})})]}),u&&e.jsx("div",{className:"mb-4 bg-amber-900/10 border border-amber-900/30 rounded-lg p-4 text-sm",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-amber-400 mb-2",children:"Soft Forks"}),e.jsx("p",{className:"text-gray-300",children:"Soft forks add new rules that restrict what was previously valid. They are backward compatible, meaning non-upgraded nodes still accept blocks from upgraded nodes, though they might not understand all the new features."}),e.jsx("p",{className:"text-gray-300 mt-2",children:"Examples: SegWit, P2SH, Taproot"})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-amber-400 mb-2",children:"Hard Forks"}),e.jsx("p",{className:"text-gray-300",children:"Hard forks loosen rules or add rules incompatible with previous versions. They are not backward compatible, creating a permanent split in the blockchain if not all users upgrade. They can result in two separate cryptocurrencies."}),e.jsx("p",{className:"text-gray-300 mt-2",children:"Examples: Bitcoin Cash, Bitcoin Gold"})]})]})}),e.jsx("p",{className:"text-gray-300 mb-4",children:"Navigate different fork scenarios in Bitcoin's development. For each proposal, choose whether to implement it as a soft fork, hard fork, or maintain the status quo, then see the consequences of your decision."}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mb-1",children:[e.jsxs("span",{children:["Scenario ",n+1," of ",i.length]}),e.jsxs("span",{children:[Math.round(i.filter(t=>t.completed).length/i.length*100),"% Complete"]})]}),e.jsx("div",{className:"h-2 bg-gray-800 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-amber-600 transition-all",style:{width:`${i.filter(t=>t.completed).length/i.length*100}%`}})})]}),e.jsxs("div",{className:"bg-gray-900/50 border border-gray-800 rounded-lg p-5 mb-6",children:[e.jsxs("h3",{className:"text-xl font-medium text-amber-400 mb-3 flex items-center",children:[e.jsx(C,{className:"h-5 w-5 mr-2"}),a.title]}),e.jsx("p",{className:"text-gray-300 mb-6",children:a.description}),e.jsx("div",{className:"space-y-4",children:a.options.map(t=>e.jsx("div",{className:`p-4 border rounded-lg cursor-pointer transition-all ${o&&s===t.id?"border-amber-500 bg-amber-900/20":s===t.id?"border-amber-500 bg-amber-900/10":"border-gray-700 bg-black/30 hover:border-gray-600"}`,onClick:()=>v(t.id),children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:`h-5 w-5 rounded-full mr-3 flex-shrink-0 flex items-center justify-center mt-0.5 ${s===t.id?"bg-amber-500 text-black":"border border-gray-600"}`,children:s===t.id&&e.jsx(B,{className:"h-3 w-3"})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx("span",{className:"text-gray-200 font-medium",children:t.text}),o&&e.jsx("span",{className:`ml-3 text-xs px-2 py-0.5 rounded ${t.type==="soft"?"bg-blue-900/30 text-blue-300":t.type==="hard"?"bg-red-900/30 text-red-300":"bg-gray-700 text-gray-300"}`,children:t.type==="soft"?"Soft Fork":t.type==="hard"?"Hard Fork":"No Fork"})]}),o&&s===t.id&&e.jsxs("div",{className:"mt-3 space-y-2",children:[e.jsx("h4",{className:"text-sm font-medium text-amber-400",children:"Consequences:"}),e.jsx("ul",{className:"list-disc ml-5 space-y-1",children:t.consequences.map((l,d)=>e.jsx("li",{className:"text-sm text-gray-300",children:l},d))})]})]})]})},t.id))})]}),o&&e.jsxs("div",{className:"bg-amber-900/10 border border-amber-900/30 rounded-lg p-4 mb-6",children:[e.jsxs("h4",{className:"font-medium text-amber-400 mb-2 flex items-center",children:[e.jsx(p,{className:"h-4 w-4 mr-2"}),"Historical Context"]}),e.jsx("p",{className:"text-gray-300 text-sm",children:x})]}),e.jsx("div",{className:"flex justify-center",children:o?e.jsx("button",{onClick:N,className:"px-6 py-2 bg-amber-600 text-white rounded-lg hover:bg-amber-700 flex items-center",children:n<i.length-1?e.jsxs(e.Fragment,{children:["Next Scenario ",e.jsx(S,{className:"ml-2 h-4 w-4"})]}):e.jsx(e.Fragment,{children:"Complete Challenge"})}):e.jsx("button",{onClick:j,disabled:!s,className:`px-6 py-2 rounded-lg font-medium ${s?"bg-amber-600 text-white hover:bg-amber-700":"bg-gray-700 text-gray-500 cursor-not-allowed"}`,children:"Implement Decision"})})]}),y&&e.jsxs("div",{className:"bg-green-900/20 border border-green-700 rounded-lg p-4 text-center",children:[e.jsx("h3",{className:"text-green-400 text-lg font-medium mb-2",children:"Challenge Complete!"}),e.jsx("p",{className:"text-gray-300",children:"Congratulations! You've navigated the complex decision-making process of Bitcoin forks. You now understand the difference between soft forks and hard forks, and the significant technical and social considerations that go into protocol changes."})]})]})}export{M as default};
