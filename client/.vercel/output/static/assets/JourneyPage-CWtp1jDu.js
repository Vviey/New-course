import{j as e,k as v,u as L,o as x,a as R}from"./index-Cb9N_GOt.js";import{r}from"./react-Q3K9tvtn.js";import{g as y}from"./realm-utils-9A8akPZN.js";import"./realm1-missions-Cl9-J3R6.js";import"./realm2-missions-Npvvnli7.js";import"./realm3-missions--hao_c43.js";function C({root:i=null,rootMargin:n="0px",threshold:l=0,triggerOnce:a=!1}={}){const[u,d]=r.useState(!1),c=r.useRef(null),f=r.useRef(!1);return r.useEffect(()=>{const p=o=>{const[m]=o;a&&f.current||(d(m.isIntersecting),a&&m.isIntersecting&&(f.current=!0))},t=new IntersectionObserver(p,{root:i,rootMargin:n,threshold:l}),s=c.current;return s&&t.observe(s),()=>{s&&t.unobserve(s)}},[i,n,l,a]),[c,u]}function E({src:i,alt:n,fallbackSrc:l="/placeholder-image.svg",placeholderColor:a="#f3f4f6",className:u,onLoad:d,onError:c,loadingOffset:f="200px",...p}){const[t,s]=r.useState(!0),[o,m]=r.useState(!1),[g,j]=r.useState(null),[h,I]=r.useState(!1),[S,k]=C({rootMargin:f,triggerOnce:!0});return r.useEffect(()=>{k&&I(!0)},[k]),r.useEffect(()=>{if(!h)return;const b=new Image;return b.src=i,b.onload=()=>{s(!1),j(i),d==null||d()},b.onerror=()=>{s(!1),m(!0),c==null||c()},()=>{b.onload=null,b.onerror=null}},[i,h,d,c]),e.jsx("div",{ref:S,className:v("relative overflow-hidden",t&&"animate-pulse",u),style:{backgroundColor:t?a:"transparent"},children:g&&!o?e.jsx("img",{src:g,alt:n,loading:"lazy",className:v("w-full h-full object-cover",t?"opacity-0":"opacity-100 transition-opacity duration-300"),...p}):o?e.jsx("img",{src:l,alt:`Fallback for ${n}`,className:"w-full h-full object-cover",...p}):h&&t?e.jsx("div",{className:"flex items-center justify-center w-full h-full",children:e.jsxs("svg",{className:"w-8 h-8 text-gray-400 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}):null})}function w({children:i,speed:n=.3,className:l="",backgroundImage:a,backgroundPosition:u="center center",opacity:d=1,zIndex:c=0}){const f=r.useRef(null),p=r.useRef(null);return r.useEffect(()=>{const t=f.current,s=p.current;if(!t||!s)return;const o=()=>{const m=window.pageYOffset,g=t.offsetTop,j=t.offsetHeight;if(m+window.innerHeight<g-300||m>g+j+300)return;const h=(m-g)*n;s.style.transform=`translateY(${h}px)`};return window.addEventListener("scroll",o),o(),()=>{window.removeEventListener("scroll",o)}},[n]),e.jsxs("div",{className:`relative overflow-hidden ${l}`,ref:f,children:[a&&e.jsx("div",{ref:p,className:"absolute inset-0 w-full h-full",style:{opacity:d,zIndex:c},children:e.jsx(E,{src:a,alt:"Parallax background",className:"w-full h-full object-cover",style:{objectPosition:u}})}),e.jsx("div",{className:"relative z-10",children:i})]})}const T={1:{main:"https://bitcoiners.africa/wp-content/uploads/2025/04/origins-main.jpg",foreground:"https://bitcoiners.africa/wp-content/uploads/2025/04/origins-foreground.png",background:"https://bitcoiners.africa/wp-content/uploads/2025/04/origins-background.jpg"},2:{main:"https://bitcoiners.africa/wp-content/uploads/2025/04/citadel-main.jpg",foreground:"https://bitcoiners.africa/wp-content/uploads/2025/04/citadel-foreground.png",background:"https://bitcoiners.africa/wp-content/uploads/2025/04/citadel-background.jpg"},3:{main:"https://bitcoiners.africa/wp-content/uploads/2025/04/sparks-main.jpg",foreground:"https://bitcoiners.africa/wp-content/uploads/2025/04/sparks-foreground.png",background:"https://bitcoiners.africa/wp-content/uploads/2025/04/sparks-background.jpg"},4:{main:"https://bitcoiners.africa/wp-content/uploads/2025/04/forge-main.jpg",foreground:"https://bitcoiners.africa/wp-content/uploads/2025/04/forge-foreground.png",background:"https://bitcoiners.africa/wp-content/uploads/2025/04/forge-background.jpg"},5:{main:"https://bitcoiners.africa/wp-content/uploads/2025/04/forks-main.jpg",foreground:"https://bitcoiners.africa/wp-content/uploads/2025/04/forks-foreground.png",background:"https://bitcoiners.africa/wp-content/uploads/2025/04/forks-background.jpg"},6:{main:"https://bitcoiners.africa/wp-content/uploads/2025/04/ubuntu-main.jpg",foreground:"https://bitcoiners.africa/wp-content/uploads/2025/04/ubuntu-foreground.png",background:"https://bitcoiners.africa/wp-content/uploads/2025/04/ubuntu-background.jpg"},7:{main:"https://bitcoiners.africa/wp-content/uploads/2025/04/summit-main.jpg",foreground:"https://bitcoiners.africa/wp-content/uploads/2025/04/summit-foreground.png",background:"https://bitcoiners.africa/wp-content/uploads/2025/04/summit-background.jpg"}},N=["bg-amber-900","bg-slate-900","bg-emerald-900","bg-pink-900","bg-indigo-900","bg-orange-900","bg-purple-900"],A=[{id:1,name:"Realm of Origins",description:"Discover the foundations of money and its evolution throughout history, from barter systems to modern currencies.",moduleNumber:1,imageUrl:"",isLocked:!1},{id:2,name:"The Central Citadel",description:"Explore modern monetary systems, central banking, and how traditional financial institutions operate.",moduleNumber:2,imageUrl:"",isLocked:!1},{id:3,name:"The Forest of Sparks",description:"Learn about the birth of Bitcoin, blockchain technology, and the core principles behind cryptocurrencies.",moduleNumber:3,imageUrl:"",isLocked:!1},{id:4,name:"The Mountain Forge",description:"Understand Bitcoin mining, consensus mechanisms, and the technical aspects that secure the network.",moduleNumber:4,imageUrl:"",isLocked:!1},{id:5,name:"The Council of Forks",description:"Explore Bitcoin governance, community decisions, protocol upgrades, and historical forks.",moduleNumber:5,imageUrl:"",isLocked:!1},{id:6,name:"The Ubuntu Village",description:"Discover practical applications of Bitcoin in Africa, financial inclusion, and real-world use cases.",moduleNumber:6,imageUrl:"",isLocked:!1},{id:7,name:"The Summit of Knowledge",description:"Complete your journey with a comprehensive assessment of all you've learned about Bitcoin and monetary systems.",moduleNumber:7,imageUrl:"",isLocked:!1}];function $(){const[,i]=L(),[n,l]=r.useState([]),[a,u]=r.useState(0),[d,c]=r.useState(!0);r.useEffect(()=>{const t=setTimeout(()=>{l(A),c(!1)},800);return()=>clearTimeout(t)},[]);const f=(t,s)=>{s||i(`/realm/${t}`)};r.useEffect(()=>{if(n.length===0)return;const t=setInterval(()=>{u(s=>(s+1)%n.length)},8e3);return()=>clearInterval(t)},[n.length]),r.useEffect(()=>{var s;if(n.length===0)return;const t=document.getElementById(`realm-${(s=n[a])==null?void 0:s.id}`);t&&t.scrollIntoView({behavior:"smooth",block:"center"})},[a,n]);const p=t=>{u(t)};return d?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"animate-pulse flex flex-col items-center",children:[e.jsx("div",{className:"h-32 w-32 bg-amber-600 rounded-full mb-4"}),e.jsx("div",{className:"h-6 w-48 bg-amber-600 rounded-full"})]})}):e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"fixed right-8 top-1/2 transform -translate-y-1/2 z-50 flex flex-col gap-4",children:n.map((t,s)=>e.jsx("button",{onClick:()=>p(s),className:`w-4 h-4 rounded-full transition-all duration-300 ${s===a?"bg-amber-500 scale-125 shadow-lg shadow-amber-500/50":"bg-gray-400 hover:bg-amber-400"}`,"aria-label":`Navigate to ${y(t.moduleNumber)}`},t.id))}),n.map((t,s)=>{const o=T[t.moduleNumber]||{},m=N[(t.moduleNumber-1)%N.length];return e.jsxs("section",{id:`realm-${t.id}`,className:`min-h-screen flex items-center justify-center relative ${o.main?"":m}`,children:[o.background&&e.jsx(w,{backgroundImage:o.background,speed:.2,className:"absolute inset-0 w-full h-full",opacity:.8,zIndex:1,children:e.jsx("div",{className:"h-full w-full"})}),e.jsx(w,{speed:.4,className:"w-full min-h-screen flex items-center justify-center",backgroundImage:o.main,opacity:o.main?.9:0,zIndex:2,children:e.jsx("div",{className:"container mx-auto px-4 py-20 relative z-30",children:e.jsxs("div",{className:`max-w-xl mx-auto p-8 rounded-xl bg-opacity-80 backdrop-blur-sm transform transition-all duration-700 ${s===a?"scale-100 opacity-100":"scale-95 opacity-40"}`,style:{backgroundColor:`${x.colors.backgroundLight}CC`,borderLeft:`4px solid ${x.colors.primaryAccent}`},children:[e.jsxs("div",{className:"mb-2 text-sm font-medium uppercase tracking-wider",style:{color:x.colors.primaryAccent},children:["Realm ",t.moduleNumber]}),e.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4 font-lora",style:{color:x.colors.darkText},children:y(t.moduleNumber)}),e.jsx("p",{className:"text-lg mb-6",style:{color:`${x.colors.darkText}DD`},children:t.description}),e.jsx("button",{onClick:()=>f(t.id,t.isLocked),className:`btn-origins ${t.isLocked?"opacity-60 cursor-not-allowed":""}`,disabled:t.isLocked,children:t.isLocked?"Locked":"Begin This Chapter"})]})})}),o.foreground&&e.jsx(w,{backgroundImage:o.foreground,speed:.6,className:"absolute inset-0 w-full h-full pointer-events-none",backgroundPosition:"center bottom",opacity:.9,zIndex:10,children:e.jsx("div",{className:"h-full w-full"})})]},t.id)})]})}function H(){const[,i]=L(),{isAuthenticated:n}=R(),[l,a]=r.useState(!1);r.useEffect(()=>{n||i("/auth")},[n,i]);const u=()=>{a(!0)};return n?l?e.jsx($,{}):e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-900 bg-origins-pattern bg-opacity-5",children:e.jsxs("div",{className:"text-center max-w-2xl mx-auto px-6",children:[e.jsx("h1",{className:"text-5xl font-bold text-amber-100 mb-8 font-lora",children:"The Bitcoin Quest"}),e.jsx("p",{className:"text-xl text-amber-200 mb-10",children:"Prepare to embark on an immersive journey through the realms of money and Bitcoin. Scroll through each realm to discover the knowledge they hold."}),e.jsx("button",{onClick:u,className:"btn-origins text-lg px-8 py-4",children:"Begin Journey"})]})}):e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-900",children:e.jsxs("div",{className:"animate-pulse flex flex-col items-center",children:[e.jsx("div",{className:"h-32 w-32 bg-amber-600 rounded-full mb-4"}),e.jsx("div",{className:"h-6 w-48 bg-amber-600 rounded-full"})]})})}export{H as default};
