import{c as w,j as e}from"./index-Cb9N_GOt.js";import{r as n}from"./react-Q3K9tvtn.js";import{C as q}from"./cpu-DO-7ugSt.js";import{H as R}from"./hash-XwdJaU6w.js";import{C as F}from"./check-KWJc-uHV.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y=w("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=w("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);function V({onComplete:M}){const[r,h]=n.useState(!1),[x,C]=n.useState(10),[l,B]=n.useState(2),[H,j]=n.useState(0),[i,g]=n.useState({id:1,nonce:0,data:"First transaction block",prevHash:"0000000000000000000000000000000000000000000000000000000000000000",hash:"",difficulty:2,mined:!1}),[u,S]=n.useState([]),[y,b]=n.useState(0),[c,N]=n.useState(null),[v,I]=n.useState(!1),[p,D]=n.useState(!1),k=s=>{let t=0;for(let a=0;a<s.length;a++){const o=s.charCodeAt(a);t=(t<<5)-t+o,t=t&t}return Math.abs(t).toString(16).padStart(64,"0")},T=(s,t)=>{const a=Array(t).fill("0").join("");return s.startsWith(a)},z=(s,t)=>{const a=`Block ${s} with ${Math.floor(Math.random()*10)+1} transactions`;g({id:s,nonce:0,data:a,prevHash:t,hash:k(`${t}${a}0`),difficulty:l,mined:!1}),j(0),b(0)},P=()=>{h(!0);let s=H,t=y;const a=setInterval(()=>{let o=!1;const f=[];for(let d=0;d<x&&!o;d++){s++,t++;const m=k(`${i.prevHash}${i.data}${s}`);if(f.push(m),T(m,l)){const L={...i,nonce:s,hash:m,mined:!0,minedAt:Date.now()};S(W=>[...W,L]),u.length>=2?(h(!1),I(!0),clearInterval(a),setTimeout(M,2e3)):z(i.id+1,m),o=!0}}o||(j(s),b(t),g(d=>({...d,nonce:s,hash:f[f.length-1]})))},100);N(a)},$=()=>{h(!1),c&&(clearInterval(c),N(null))},A=s=>{r||C(Math.max(1,Math.min(100,s)))},E=s=>{r||(B(Math.max(1,Math.min(5,s))),g(t=>({...t,difficulty:s})))};return n.useEffect(()=>()=>{c&&clearInterval(c)},[c]),e.jsxs("div",{className:"bg-black text-gray-100 p-6 rounded-lg border border-orange-900/30",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-orange-500 mb-4",children:"Bitcoin Mining Simulator"}),e.jsx("p",{className:"text-gray-300 mb-4",children:"Experience how Bitcoin miners solve complex mathematical puzzles to create new blocks. This simulation demonstrates the process of finding a hash that meets a specific difficulty target."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{className:"bg-gray-900 p-4 rounded-lg",children:[e.jsxs("h3",{className:"text-orange-400 text-lg font-medium mb-2 flex items-center",children:[e.jsx(q,{className:"h-5 w-5 mr-2"}),"Mining Settings"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm text-gray-400 mb-1",children:["Hash Power: ",x," H/s"]}),e.jsx("input",{type:"range",min:"1",max:"100",value:x,onChange:s=>A(parseInt(s.target.value)),disabled:r,className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer disabled:opacity-50"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm text-gray-400 mb-1",children:["Difficulty: ",l," (Leading zeros)"]}),e.jsx("input",{type:"range",min:"1",max:"5",value:l,onChange:s=>E(parseInt(s.target.value)),disabled:r,className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer disabled:opacity-50"})]}),e.jsxs("div",{className:"flex justify-between items-center pt-2",children:[e.jsxs("div",{className:"text-sm text-gray-400",children:["Total Hashes: ",y]}),r?e.jsx("button",{onClick:$,className:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 transition-colors",children:"Stop Mining"}):e.jsx("button",{onClick:P,className:"px-4 py-2 bg-orange-600 text-white rounded-md hover:bg-orange-700 transition-colors",disabled:v,children:"Start Mining"})]})]})]}),e.jsxs("div",{className:"bg-gray-900 p-4 rounded-lg",children:[e.jsxs("h3",{className:"text-orange-400 text-lg font-medium mb-2 flex items-center",children:[e.jsx(R,{className:"h-5 w-5 mr-2"}),"Current Block"]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Block ID:"})," ",e.jsx("span",{className:"text-orange-300",children:i.id})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Data:"})," ",e.jsx("span",{className:"text-gray-300",children:i.data})]}),e.jsxs("div",{className:"truncate",children:[e.jsx("span",{className:"text-gray-500",children:"Previous Hash:"})," ",e.jsx("span",{className:"text-blue-400 font-mono text-xs",children:i.prevHash})]}),e.jsxs("div",{className:"truncate",children:[e.jsx("span",{className:"text-gray-500",children:"Current Hash:"})," ",e.jsx("span",{className:"text-green-400 font-mono text-xs",children:i.hash})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Nonce:"})," ",e.jsx("span",{className:"text-orange-300",children:i.nonce})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Target:"})," ",e.jsxs("span",{className:"text-purple-400 font-mono",children:[Array(l).fill("0").join(""),"..."]})]}),e.jsx("div",{className:"pt-2",children:r&&e.jsxs("div",{className:"flex items-center text-yellow-500",children:[e.jsx(G,{className:"h-4 w-4 mr-1 animate-pulse"}),e.jsx("span",{children:"Mining in progress..."})]})})]})]})]}),u.length>0&&e.jsxs("div",{className:"bg-gray-900 p-4 rounded-lg mb-6",children:[e.jsxs("h3",{className:"text-orange-400 text-lg font-medium mb-3 flex items-center",children:[e.jsx(Y,{className:"h-5 w-5 mr-2"}),"Blockchain"]}),e.jsx("div",{className:"space-y-4",children:u.map((s,t)=>e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-2 md:gap-4 pb-4 border-b border-gray-800",children:[e.jsxs("div",{className:"flex-shrink-0 bg-orange-900/30 text-orange-400 px-3 py-1 rounded-full text-sm",children:["Block ",s.id]}),e.jsxs("div",{className:"flex-grow",children:[e.jsx("div",{className:"text-xs text-gray-400",children:s.data}),e.jsx("div",{className:"font-mono text-xs text-green-400 truncate",children:s.hash})]}),e.jsxs("div",{className:"flex-shrink-0 text-gray-400 text-xs",children:["Nonce: ",s.nonce]}),e.jsx("div",{className:"flex-shrink-0",children:e.jsx(F,{className:"h-5 w-5 text-green-500"})})]},s.id))})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("button",{onClick:()=>D(!p),className:"text-orange-400 underline text-sm hover:text-orange-300",children:p?"Hide explanation":"Learn more about Bitcoin mining"}),p&&e.jsxs("div",{className:"mt-4 bg-gray-900/50 border border-gray-800 p-4 rounded-lg text-sm text-gray-300",children:[e.jsx("h4",{className:"text-orange-400 font-medium mb-2",children:"How Bitcoin Mining Works"}),e.jsx("p",{className:"mb-2",children:"Bitcoin mining is the process of adding new transactions to the Bitcoin blockchain. Miners use computational power to solve complex mathematical puzzles, and the first to solve it gets to add a new block and receive a reward."}),e.jsxs("p",{className:"mb-2",children:[e.jsx("span",{className:"text-orange-400 font-medium",children:"Proof-of-Work:"}),` Miners must find a value (nonce) that, when combined with the block data and previous block's hash, produces a new hash with a specific number of leading zeros (the difficulty target). This process requires significant computational work, hence "proof-of-work."`]}),e.jsxs("p",{className:"mb-2",children:[e.jsx("span",{className:"text-orange-400 font-medium",children:"Difficulty Adjustment:"})," Bitcoin automatically adjusts the difficulty every 2,016 blocks (approximately two weeks) to maintain a consistent block time of about 10 minutes, regardless of how much mining power is on the network."]}),e.jsxs("p",{children:[e.jsx("span",{className:"text-orange-400 font-medium",children:"Mining Rewards:"})," Miners receive newly created bitcoins (the block subsidy) plus transaction fees for their work. The block subsidy halves approximately every four years, creating Bitcoin's decreasing issuance schedule."]})]})]})]}),v&&e.jsxs("div",{className:"bg-green-900/20 border border-green-700 rounded-lg p-4 text-center",children:[e.jsx("h3",{className:"text-green-400 text-lg font-medium mb-2",children:"Challenge Complete!"}),e.jsx("p",{className:"text-gray-300",children:"Congratulations! You've successfully mined multiple blocks and experienced the proof-of-work mining process firsthand."})]})]})}export{V as default};
