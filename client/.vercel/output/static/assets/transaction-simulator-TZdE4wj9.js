import{j as e,p as c}from"./index-Cb9N_GOt.js";import{r as o}from"./react-Q3K9tvtn.js";import{R as S}from"./refresh-cw-C2iCUXhH.js";import{K as te}from"./key-o30NT835.js";import{L as _}from"./lock-DhB5_l0_.js";import{S as ae}from"./send-Dhf89aQX.js";import{C as ne}from"./code-C6fYCasi.js";import{L as re}from"./lock-open-DhJzDle9.js";import{C as D}from"./cpu-DO-7ugSt.js";import{Z as ce}from"./zap-Df9qtAyF.js";function be({onComplete:G}){const[a,j]=o.useState(1),[d,O]=o.useState({privateKey:"",publicKey:"",address:"",pubKeyHash:""}),[y,A]=o.useState({privateKey:"",publicKey:"",address:"",pubKeyHash:""}),[f,C]=o.useState([]),[m,B]=o.useState(null),[$,P]=o.useState(""),[p,X]=o.useState(null),[g,E]=o.useState(null),[k,F]=o.useState(null),[K,H]=o.useState([]),[I,M]=o.useState(null),[T,R]=o.useState(1.5),[N,L]=o.useState({completed:!1,message:"",success:!1}),[l,h]=o.useState(!1),V=()=>{const s=Array.from(crypto.getRandomValues(new Uint8Array(32)),n=>n.toString(16).padStart(2,"0")).join(""),r="04"+Array.from(crypto.getRandomValues(new Uint8Array(64)),n=>n.toString(16).padStart(2,"0")).join(""),i=Array.from(crypto.getRandomValues(new Uint8Array(20)),n=>n.toString(16).padStart(2,"0")).join(""),x="1"+i.substring(0,25);return{privateKey:s,publicKey:r,address:x,pubKeyHash:i}},w=()=>Array.from(crypto.getRandomValues(new Uint8Array(32)),s=>s.toString(16).padStart(2,"0")).join(""),b=(s,r=12)=>s.substring(0,r)+"..."+s.substring(s.length-6),v=s=>["OP_DUP","OP_HASH160",`<${s.substring(0,8)}...>`,"OP_EQUALVERIFY","OP_CHECKSIG"],W=(s,r)=>[`<${s.substring(0,8)}...>`,`<${r.substring(0,8)}...>`],Y=(s,r,i,x)=>{const n=[],t=[];return n.push("📝 Executing Unlocking Script:"),s.forEach(u=>{u.startsWith("<")&&u.endsWith(">")&&(t.push(u),n.push(`   Push ${u} to stack`))}),n.push(`📚 Stack: [${t.join(", ")}]`),n.push(""),n.push("📝 Executing Locking Script:"),r.forEach(u=>{switch(u){case"OP_DUP":if(t.length>0){const U=t[t.length-1];t.push(U),n.push("   OP_DUP: Duplicate top stack item"),n.push(`   Stack: [${t.join(", ")}]`)}break;case"OP_HASH160":t.length>0&&(t.pop(),t.push(`<Hash160(${i.substring(0,8)}...)>`),n.push("   OP_HASH160: Hash the public key"),n.push(`   Stack: [${t.join(", ")}]`));break;case"OP_EQUALVERIFY":t.length>=2&&(t.pop(),t.pop(),n.push("   OP_EQUALVERIFY: Verify hashes match"),n.push(`   Stack: [${t.join(", ")}]`));break;case"OP_CHECKSIG":t.length>=2&&(t.pop(),t.push("True"),n.push("   OP_CHECKSIG: Verify signature"),n.push(`   Stack: [${t.join(", ")}]`));break;default:u.startsWith("<")&&u.endsWith(">")&&(t.push(u),n.push(`   Push ${u} to stack`),n.push(`   Stack: [${t.join(", ")}]`))}}),n.push(""),n.push(t.length>0&&t[t.length-1]==="True"?"✅ Script execution successful! UTXO can be spent.":"❌ Script execution failed! UTXO cannot be spent."),{valid:t.length>0&&t[t.length-1]==="True",steps:n}},Q=async()=>{h(!0),setTimeout(()=>{const s=V(),r=V();O(s),A(r);const i=[{id:w(),address:s.address,amount:2.5,spent:!1,lockingScript:v(s.pubKeyHash).join(" "),pubKeyHash:s.pubKeyHash},{id:w(),address:s.address,amount:1,spent:!1,lockingScript:v(s.pubKeyHash).join(" "),pubKeyHash:s.pubKeyHash},{id:w(),address:s.address,amount:.8,spent:!1,lockingScript:v(s.pubKeyHash).join(" "),pubKeyHash:s.pubKeyHash}];C(i),j(2),h(!1)},800)},Z=()=>{h(!0),setTimeout(()=>{const s=T+.001;let r=[],i=0;for(const t of f)if(!t.spent&&t.address===d.address&&(r.push(t),i+=t.amount,i>=s))break;const x=i-T-.001,n={id:w(),inputs:r.map(t=>({previousTxId:t.id,amount:t.amount,address:t.address,lockingScript:t.lockingScript,pubKeyHash:t.pubKeyHash})),outputs:[{address:y.address,amount:T,lockingScript:v(y.pubKeyHash).join(" ")},...x>0?[{address:d.address,amount:x,lockingScript:v(d.pubKeyHash).join(" ")}]:[]],fee:.001,timestamp:Date.now()};B(n),j(3),h(!1)},800)},J=async()=>{m&&(h(!0),setTimeout(async()=>{const s=JSON.stringify({inputs:m.inputs,outputs:m.outputs,timestamp:m.timestamp}),i=new TextEncoder().encode(s+d.privateKey),x=await crypto.subtle.digest("SHA-256",i),n=Array.from(new Uint8Array(x),U=>U.toString(16).padStart(2,"0")).join(""),t=v(d.pubKeyHash),u=W(n,d.publicKey);P(n),E({locking:t,unlocking:u,execution:[]}),j(4),h(!1)},800))},q=()=>{!g||!$||(h(!0),setTimeout(()=>{const s=Y(g.unlocking,g.locking,d.publicKey,d.pubKeyHash);F({valid:s.valid,message:s.valid?"Script validation successful! UTXOs can be spent.":"Script validation failed! Transaction rejected.",steps:s.steps}),X({valid:s.valid,message:s.valid?"Transaction signature and script validated!":"Script validation failed!"}),s.valid&&j(5),h(!1)},1e3))},z=()=>{!m||!(p!=null&&p.valid)||(h(!0),setTimeout(()=>{const s={...m,signature:$,unlockingScript:g==null?void 0:g.unlocking.join(" "),status:"unconfirmed",broadcastTime:Date.now()};H([...K,s]),j(6),h(!1)},800))},ee=()=>{h(!0),setTimeout(()=>{const s={blockNumber:75e4+Math.floor(Math.random()*1e3),transactions:K,timestamp:Date.now(),previousHash:"000000000000000"+Math.random().toString(16).substring(2,15),merkleRoot:w(),nonce:Math.floor(Math.random()*1e6),difficulty:"19.6T"},r=[...f];m.inputs.forEach(i=>{const x=r.findIndex(n=>n.id===i.previousTxId);x!==-1&&(r[x].spent=!0)}),m.outputs.forEach((i,x)=>{r.push({id:m.id+":"+x,address:i.address,amount:i.amount,spent:!1,lockingScript:i.lockingScript,pubKeyHash:i.address===y.address?y.pubKeyHash:d.pubKeyHash})}),C(r),M(s),H([]),L({completed:!0,message:"Congratulations! You've completed a full Bitcoin transaction with Script validation from UTXO locking to unlocking!",success:!0}),setTimeout(G,2e3),h(!1)},2e3)},se=()=>{j(1),O({privateKey:"",publicKey:"",address:"",pubKeyHash:""}),A({privateKey:"",publicKey:"",address:"",pubKeyHash:""}),C([]),B(null),P(""),X(null),E(null),F(null),H([]),M(null),L({completed:!1,message:"",success:!1})};return e.jsxs("div",{className:"py-6",children:[e.jsxs("div",{className:"mb-8 p-6 rounded-lg",style:{backgroundColor:"rgba(8, 28, 36, 0.6)"},children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",style:{color:c.colors.primary},children:"Bitcoin Transaction & Script Challenge"}),e.jsx("p",{className:"text-gray-300 mb-4",children:"Learn how Bitcoin Scripts control spending conditions through locking and unlocking mechanisms. See how UTXOs are locked with conditions and unlocked with signatures and public keys."}),e.jsxs("div",{className:`space-y-4 mb-6 p-4 rounded-lg ${a>=1?"bg-black/20":"bg-black/10 opacity-50"}`,children:[e.jsxs("div",{className:"flex items-center mb-3",children:[e.jsx("span",{className:`w-8 h-8 rounded-full flex items-center justify-center mr-3 text-sm font-bold ${a>=1?"text-white":"text-gray-500"}`,style:{backgroundColor:a>=1?c.colors.primary:"#6b7280"},children:"1"}),e.jsx("h4",{className:"text-lg font-semibold",style:{color:c.colors.secondary},children:"Generate Keys & Create UTXOs with Locking Scripts"})]}),e.jsx("p",{className:"text-gray-300 text-sm mb-4",children:"Generate cryptographic keys and create UTXOs protected by locking scripts that define spending conditions."}),e.jsx("button",{onClick:Q,disabled:l,className:"px-4 py-2 rounded text-white font-medium flex items-center text-sm mb-4",style:{backgroundColor:c.colors.primary,opacity:l?.7:1},children:l?e.jsxs(e.Fragment,{children:[e.jsx(S,{className:"mr-2 h-4 w-4 animate-spin"}),"Generating..."]}):e.jsxs(e.Fragment,{children:[e.jsx(te,{className:"mr-2 h-4 w-4"}),"Generate Keys & UTXOs"]})}),d.address&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-3 rounded",style:{backgroundColor:"rgba(6, 214, 160, 0.1)"},children:[e.jsx("h5",{className:"font-semibold mb-2",style:{color:c.colors.accent1},children:"👩 Alice (Sender)"}),e.jsxs("div",{className:"text-xs space-y-1",children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Address:"})," ",b(d.address)]}),e.jsxs("div",{children:[e.jsx("strong",{children:"PubKeyHash:"})," ",b(d.pubKeyHash)]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Balance:"})," 4.3 BTC"]})]})]}),e.jsxs("div",{className:"p-3 rounded",style:{backgroundColor:"rgba(64, 224, 208, 0.1)"},children:[e.jsx("h5",{className:"font-semibold mb-2",style:{color:c.colors.secondary},children:"👨 Bob (Receiver)"}),e.jsxs("div",{className:"text-xs space-y-1",children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Address:"})," ",b(y.address)]}),e.jsxs("div",{children:[e.jsx("strong",{children:"PubKeyHash:"})," ",b(y.pubKeyHash)]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Balance:"})," 0 BTC"]})]})]})]}),f.length>0&&e.jsxs("div",{className:"mt-4",children:[e.jsx("h5",{className:"text-sm font-semibold mb-2",style:{color:c.colors.secondary},children:"Alice's UTXOs with Locking Scripts:"}),e.jsx("div",{className:"space-y-3",children:f.filter(s=>!s.spent&&s.address===d.address).map((s,r)=>e.jsxs("div",{className:"p-3 bg-black/30 rounded",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsxs("div",{className:"text-sm",children:[e.jsxs("strong",{children:[s.amount," BTC"]})," - ",b(s.id)]}),e.jsx(_,{className:"h-4 w-4 text-yellow-400"})]}),e.jsxs("div",{className:"text-xs",children:[e.jsx("div",{className:"text-gray-400 mb-1",children:"🔒 Locking Script (scriptPubKey):"}),e.jsx("div",{className:"font-mono text-yellow-300 bg-black/40 p-2 rounded text-xs",children:s.lockingScript}),e.jsxs("div",{className:"text-gray-400 mt-1 text-xs",children:['💡 This script says: "To spend this UTXO, provide a signature and public key that hashes to ',b(s.pubKeyHash||"",6),'"']})]})]},r))})]})]})]}),e.jsxs("div",{className:`space-y-4 mb-6 p-4 rounded-lg ${a>=2?"bg-black/20":"bg-black/10 opacity-50"}`,children:[e.jsxs("div",{className:"flex items-center mb-3",children:[e.jsx("span",{className:`w-8 h-8 rounded-full flex items-center justify-center mr-3 text-sm font-bold ${a>=2?"text-white":"text-gray-500"}`,style:{backgroundColor:a>=2?c.colors.primary:"#6b7280"},children:"2"}),e.jsx("h4",{className:"text-lg font-semibold",style:{color:c.colors.secondary},children:"Create Transaction"})]}),e.jsx("p",{className:"text-gray-300 text-sm mb-4",children:"Create a transaction that references UTXOs to spend and creates new UTXOs with their own locking scripts."}),e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsx("label",{className:"text-sm",children:"Amount to send:"}),e.jsx("input",{type:"number",value:T,onChange:s=>R(parseFloat(s.target.value)||0),min:"0.001",max:"4.2",step:"0.1",className:"px-3 py-1 bg-black/40 text-gray-100 border rounded text-base",style:{borderColor:`${c.colors.secondary}40`}}),e.jsx("span",{className:"text-sm",children:"BTC"})]}),e.jsx("button",{onClick:Z,disabled:a<2||l,className:"px-4 py-2 rounded text-white font-medium flex items-center text-sm mb-4",style:{backgroundColor:a>=2?c.colors.primary:"#6b7280",opacity:a<2||l?.7:1},children:l?e.jsxs(e.Fragment,{children:[e.jsx(S,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating..."]}):e.jsxs(e.Fragment,{children:[e.jsx(ae,{className:"mr-2 h-4 w-4"}),"Create Transaction"]})}),m&&e.jsxs("div",{className:"p-3 rounded",style:{backgroundColor:"rgba(6, 214, 160, 0.1)"},children:[e.jsx("h5",{className:"font-semibold mb-2",children:"Transaction Details:"}),e.jsxs("div",{className:"text-xs space-y-2",children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Transaction ID:"})," ",b(m.id)]}),e.jsx("div",{children:e.jsx("strong",{children:"Inputs (UTXOs to unlock):"})}),e.jsx("ul",{className:"ml-4 space-y-1",children:m.inputs.map((s,r)=>e.jsxs("li",{className:"bg-black/30 p-2 rounded",children:[e.jsxs("div",{children:[s.amount," BTC from ",b(s.previousTxId)]}),e.jsxs("div",{className:"text-gray-400",children:["Must unlock: ",s.lockingScript]})]},r))}),e.jsx("div",{children:e.jsx("strong",{children:"Outputs (New UTXOs to create):"})}),e.jsx("ul",{className:"ml-4 space-y-1",children:m.outputs.map((s,r)=>e.jsxs("li",{className:"bg-black/30 p-2 rounded",children:[e.jsxs("div",{children:[s.amount," BTC → ",s.address===y.address?"Bob":"Alice (change)"]}),e.jsxs("div",{className:"text-gray-400",children:["New locking script: ",s.lockingScript]})]},r))})]})]})]}),e.jsxs("div",{className:`space-y-4 mb-6 p-4 rounded-lg ${a>=3?"bg-black/20":"bg-black/10 opacity-50"}`,children:[e.jsxs("div",{className:"flex items-center mb-3",children:[e.jsx("span",{className:`w-8 h-8 rounded-full flex items-center justify-center mr-3 text-sm font-bold ${a>=3?"text-white":"text-gray-500"}`,style:{backgroundColor:a>=3?c.colors.primary:"#6b7280"},children:"3"}),e.jsx("h4",{className:"text-lg font-semibold",style:{color:c.colors.secondary},children:"Create Unlocking Script & Sign"})]}),e.jsx("p",{className:"text-gray-300 text-sm mb-4",children:"Create an unlocking script (scriptSig) that provides the signature and public key needed to satisfy the locking script conditions."}),e.jsx("button",{onClick:J,disabled:a<3||l,className:"px-4 py-2 rounded text-white font-medium flex items-center text-sm mb-4",style:{backgroundColor:a>=3?c.colors.primary:"#6b7280",opacity:a<3||l?.7:1},children:l?e.jsxs(e.Fragment,{children:[e.jsx(S,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating Scripts..."]}):e.jsxs(e.Fragment,{children:[e.jsx(ne,{className:"mr-2 h-4 w-4"}),"Create Scripts & Sign"]})}),g&&e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-3 rounded",style:{backgroundColor:"rgba(255, 165, 0, 0.1)"},children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx(_,{className:"h-4 w-4 text-yellow-400 mr-2"}),e.jsx("h5",{className:"font-semibold text-yellow-400",children:"Locking Script (scriptPubKey)"})]}),e.jsx("div",{className:"font-mono text-xs bg-black/40 p-2 rounded",children:g.locking.join(" ")}),e.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"Set by the previous transaction owner - defines spending conditions"})]}),e.jsxs("div",{className:"p-3 rounded",style:{backgroundColor:"rgba(6, 214, 160, 0.1)"},children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx(re,{className:"h-4 w-4 text-green-400 mr-2"}),e.jsx("h5",{className:"font-semibold text-green-400",children:"Unlocking Script (scriptSig)"})]}),e.jsx("div",{className:"font-mono text-xs bg-black/40 p-2 rounded",children:g.unlocking.join(" ")}),e.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"Created by Alice - provides signature and public key to unlock UTXO"})]})]})})]}),e.jsxs("div",{className:`space-y-4 mb-6 p-4 rounded-lg ${a>=4?"bg-black/20":"bg-black/10 opacity-50"}`,children:[e.jsxs("div",{className:"flex items-center mb-3",children:[e.jsx("span",{className:`w-8 h-8 rounded-full flex items-center justify-center mr-3 text-sm font-bold ${a>=4?"text-white":"text-gray-500"}`,style:{backgroundColor:a>=4?c.colors.primary:"#6b7280"},children:"4"}),e.jsx("h4",{className:"text-lg font-semibold",style:{color:c.colors.secondary},children:"Execute & Validate Scripts"})]}),e.jsx("p",{className:"text-gray-300 text-sm mb-4",children:"Bitcoin nodes execute the scripts to verify that Alice can spend the UTXOs. The unlocking script must satisfy all conditions in the locking script."}),e.jsx("button",{onClick:q,disabled:a<4||l,className:"px-4 py-2 rounded text-white font-medium flex items-center text-sm mb-4",style:{backgroundColor:a>=4?c.colors.primary:"#6b7280",opacity:a<4||l?.7:1},children:l?e.jsxs(e.Fragment,{children:[e.jsx(S,{className:"mr-2 h-4 w-4 animate-spin"}),"Executing..."]}):e.jsxs(e.Fragment,{children:[e.jsx(D,{className:"mr-2 h-4 w-4"}),"Execute Script"]})}),k&&e.jsxs("div",{className:`p-3 rounded ${k.valid?"bg-green-900/20":"bg-red-900/20"}`,children:[e.jsx("h5",{className:`font-semibold mb-2 ${k.valid?"text-green-400":"text-red-400"}`,children:"Script Execution:"}),e.jsx("div",{className:"text-xs space-y-1 font-mono bg-black/40 p-3 rounded max-h-64 overflow-y-auto",children:k.steps.map((s,r)=>e.jsx("div",{className:s.startsWith("✅")?"text-green-400":s.startsWith("❌")?"text-red-400":"text-gray-300",children:s},r))}),e.jsx("p",{className:`text-sm mt-2 ${k.valid?"text-green-300":"text-red-300"}`,children:k.message})]})]}),e.jsxs("div",{className:`space-y-4 mb-6 p-4 rounded-lg ${a>=5?"bg-black/20":"bg-black/10 opacity-50"}`,children:[e.jsxs("div",{className:"flex items-center mb-3",children:[e.jsx("span",{className:`w-8 h-8 rounded-full flex items-center justify-center mr-3 text-sm font-bold ${a>=5?"text-white":"text-gray-500"}`,style:{backgroundColor:a>=5?c.colors.primary:"#6b7280"},children:"5"}),e.jsx("h4",{className:"text-lg font-semibold",style:{color:c.colors.secondary},children:"Broadcast to Mempool"})]}),e.jsx("p",{className:"text-gray-300 text-sm mb-4",children:"The validated transaction is broadcast to the network and waits in the mempool for mining."}),e.jsx("button",{onClick:z,disabled:a<5||l||!(p!=null&&p.valid),className:"px-4 py-2 rounded text-white font-medium flex items-center text-sm mb-4",style:{backgroundColor:a>=5&&(p!=null&&p.valid)?c.colors.primary:"#6b7280",opacity:a<5||l||!(p!=null&&p.valid)?.7:1},children:l?e.jsxs(e.Fragment,{children:[e.jsx(S,{className:"mr-2 h-4 w-4 animate-spin"}),"Broadcasting..."]}):e.jsxs(e.Fragment,{children:[e.jsx(ce,{className:"mr-2 h-4 w-4"}),"Broadcast Transaction"]})}),K.length>0&&e.jsxs("div",{className:"p-3 rounded",style:{backgroundColor:"rgba(255, 165, 0, 0.1)"},children:[e.jsx("h5",{className:"font-semibold mb-2 text-orange-400",children:"Mempool Status:"}),e.jsx("div",{className:"text-sm text-orange-300",children:"⏳ Transaction with valid scripts waiting for mining..."})]})]}),e.jsxs("div",{className:`space-y-4 mb-6 p-4 rounded-lg ${a>=6?"bg-black/20":"bg-black/10 opacity-50"}`,children:[e.jsxs("div",{className:"flex items-center mb-3",children:[e.jsx("span",{className:`w-8 h-8 rounded-full flex items-center justify-center mr-3 text-sm font-bold ${a>=6?"text-white":"text-gray-500"}`,style:{backgroundColor:a>=6?c.colors.primary:"#6b7280"},children:"6"}),e.jsx("h4",{className:"text-lg font-semibold",style:{color:c.colors.secondary},children:"Mining & UTXO Updates"})]}),e.jsx("p",{className:"text-gray-300 text-sm mb-4",children:"Miners include the transaction in a block. Old UTXOs are marked as spent, and new UTXOs are created with fresh locking scripts."}),e.jsx("button",{onClick:ee,disabled:a<6||l,className:"px-4 py-2 rounded text-white font-medium flex items-center text-sm mb-4",style:{backgroundColor:a>=6?c.colors.primary:"#6b7280",opacity:a<6||l?.7:1},children:l?e.jsxs(e.Fragment,{children:[e.jsx(S,{className:"mr-2 h-4 w-4 animate-spin"}),"Mining..."]}):e.jsxs(e.Fragment,{children:[e.jsx(D,{className:"mr-2 h-4 w-4"}),"Mine Block"]})}),I&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-3 rounded",style:{backgroundColor:"rgba(6, 214, 160, 0.2)"},children:[e.jsx("h5",{className:"font-semibold mb-2",style:{color:c.colors.primary},children:"✅ Block Mined Successfully!"}),e.jsxs("div",{className:"text-sm space-y-1",children:[e.jsx("div",{children:e.jsxs("strong",{children:["Block #",I.blockNumber]})}),e.jsx("div",{children:"Scripts executed and validated ✓"}),e.jsx("div",{children:"UTXOs updated ✓"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-3 rounded bg-black/30",children:[e.jsx("h6",{className:"text-sm font-semibold mb-1 text-green-400",children:"✅ New UTXOs Created:"}),e.jsx("div",{className:"text-xs space-y-2",children:f.filter(s=>!s.spent&&s.id.includes(":")).map((s,r)=>e.jsxs("div",{className:"bg-green-900/20 p-2 rounded",children:[e.jsxs("div",{children:[e.jsxs("strong",{children:[s.amount," BTC"]})," → ",s.address===y.address?"Bob":"Alice"]}),e.jsxs("div",{className:"text-gray-400",children:["Protected by: ",s.lockingScript]})]},r))})]}),e.jsxs("div",{className:"p-3 rounded bg-black/30",children:[e.jsx("h6",{className:"text-sm font-semibold mb-1 text-red-400",children:"❌ UTXOs Spent:"}),e.jsx("div",{className:"text-xs space-y-1",children:f.filter(s=>s.spent).map((s,r)=>e.jsxs("div",{className:"bg-red-900/20 p-2 rounded",children:[e.jsxs("div",{children:[e.jsxs("strong",{children:[s.amount," BTC"]})," - ",b(s.id)]}),e.jsx("div",{className:"text-gray-400",children:"Successfully unlocked and spent"})]},r))})]})]})]})]}),e.jsx("div",{className:"mt-4 text-center",children:e.jsx("button",{onClick:se,className:"px-6 py-2 rounded text-white font-medium",style:{backgroundColor:c.colors.secondary},children:"🔄 Start New Transaction"})}),N.message&&e.jsx("div",{className:`mt-6 p-3 rounded-md ${N.success?"bg-green-900/30":"bg-red-900/30"}`,style:{borderLeft:`4px solid ${N.success?"#10b981":"#ef4444"}`},children:e.jsx("p",{className:N.success?"text-green-400":"text-red-400",children:N.message})})]}),N.completed&&e.jsxs("div",{className:"text-center p-4 rounded-lg border",style:{backgroundColor:"rgba(6, 214, 160, 0.1)",borderColor:`${c.colors.primary}40`},children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",style:{color:c.colors.primary},children:"Challenge Complete!"}),e.jsx("p",{className:"text-gray-300",children:"You've mastered Bitcoin Scripts! You've seen how locking scripts protect UTXOs and how unlocking scripts provide the necessary signatures and public keys to spend them. This is the foundation of Bitcoin's programmable money!"})]})]})}export{be as default};
